# 华西肺结节数据库前端架构规范 # 技术栈：React, TypeScript, Ant Design (AntD) # 核心原则：彻底分离关注点 (Separation of Concerns)  ## 规则 1: UI/渲染层规范 (针对 .tsx 文件)  ### 约束 - **严禁** 在 .tsx 文件中直接执行复杂的业务逻辑、状态管理、或 API 调用（如使用 `axios.get` 或 `fetch`）。 - **严禁** 在页面或组件中编写复杂的 `useState` 或 `useEffect` 逻辑来处理应用级状态或副作用。  ### 必须 - **必须** 通过导入自定义 Hook (`useXxx`) 来获取数据状态、处理函数和操作方法。 - **必须** 专注于 JSX 渲染、组件组合以及调用从 Hook 中获取的事件处理器。 - **必须** 优先使用 Ant Design (AntD) 提供的 UI 组件（例如：`Button`, `Table`, `Form`, `Card`）。  ## 规则 2: 逻辑/Hook 层规范 (针对 src/hooks/*.ts 文件)  ### 约束 - **严禁** 在 Hooks 文件中返回任何 JSX 或 UI 标记。Hook 文件必须是纯粹的逻辑封装。 - **严禁** 在 Hook 文件中直接导入或依赖 Ant Design 组件。  ### 必须 - **必须** 封装所有 **业务逻辑**、**状态管理** (`useState`, `useReducer`) 和 **副作用** (`useEffect`)。 - **必须** 封装所有 **API 交互** 和数据转换逻辑。 - 自定义 Hook 文件的命名必须以 `use` 开头 (例如: `useConditionSearch.ts`, `useExportApproval.ts`)。  ## 规则 3: TypeScript 类型规范 (针对全局)  ### 约束 - **严禁** 使用不明确的 `any` 类型。必须明确定义所有类型。 - 逻辑代码中，**严禁** 出现未定义的魔术字符串或魔术数字。  ### 必须 - **必须** 为所有组件 props、Hook 的输入/输出参数、以及复杂的状态变量定义显式 TypeScript 接口 (`interface`) 或类型 (`type`)。 - **必须** 将核心数据结构（如 `PatientRecord`, `ConditionItem`）定义在 `src/types/data.ts` 中，并导入使用。  ## 规则 4: 文件结构与命名  ### 约束 - **严禁** 页面级组件直接放在 `src/` 根目录下。  ### 必须 - 页面组件 **必须** 放在 `src/pages/` 目录下，并按功能模块分组 (e.g., `src/pages/SystemManagement/`). - 逻辑 Hooks **必须** 放在 `src/hooks/` 目录下。 - 通用且可复用的 UI 组件 **必须** 放在 `src/components/` 目录下。